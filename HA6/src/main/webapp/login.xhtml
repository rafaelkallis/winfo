<!DOCTYPE HTML>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core">

<f:view>
  	<f:metadata>
    	<f:event type="preRenderView" listener="#{camundaTaskForm.startProcessInstanceByKeyForm()}" />
 	</f:metadata>
	<h:head>
		<title>GTD | Login</title>
	</h:head>
  	<h:body>
  		<div id="container" style="margin:0px auto; width:70%;">
  			<div id="column1" style="float:left; margin:0; width:50%">
  				<h:form id="login_form">
	  				<h3>Login</h3>
	  				<h:outputLabel value="Keine Users vorhanded!" rendered="#{loginController.getUsers().size() == 0}"/>
					<h:selectOneMenu value="#{processVariables['loggedUserId']}" rendered="#{loginController.getUsers().size() > 0}">
						<f:selectItems value="#{loginController.getUsers()}" var="_user" itemLabel="#{_user.name}" itemValue="#{_user.id}"/>
					</h:selectOneMenu>
					<h:commandButton id="login_button" value="Login" action="#{loginController.login()}" rendered="#{loginController.getUsers().size() > 0}"/>
  				</h:form>		
			</div>
			<div id="column2" style="float:left; margin:0; width:50%;" >
				<h:form id="register_form">
					<h3>Registrieren</h3>
					<label>Name:</label>
					<h:inputText value="#{processVariables['userName']}" required="true" />
					<br />
					<label>Projektleiter</label>
					<h:selectBooleanCheckbox value="#{processVariables['isProjektleiter']}" /><br />
					<h:commandButton id="register_button" value="Registrieren" action="#{loginController.register(processVariables['userName'],processVariables['isProjektleiter'])}" />
				</h:form>
			</div>
  		</div>	
  	</h:body>
</f:view>
</html>